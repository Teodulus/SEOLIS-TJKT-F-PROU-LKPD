<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asesmen Konsep Router</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 20px auto; padding: 15px; background-color: #f4f4f9; }
        div { background-color: #ffffff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        button { padding: 10px 15px; font-size: 16px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        input[type="text"], textarea { width: 300px; padding: 8px; margin: 5px 0 15px 0; border: 1px solid #ccc; border-radius: 4px; }
        textarea { width: 95%; }
        h1, h2, h3 { color: #333; }
        #progressInfo { text-align: center; font-style: italic; color: #555; background: none; box-shadow: none; }
        .result-block { margin-bottom: 15px; }
        .answer-display { background-color: #f9f9f9; border: 1px solid #eee; padding: 10px; border-radius: 5px; min-height: 50px; }
    </style>
</head>
<body>

    <h1>Asesmen Konsep Router</h1>
    <p id="progressInfo">Pilih kelompok untuk memulai</p>
    <hr>

    <div id="group-selection-screen">
        <h2>Pilih Kelompok Anda</h2>
        <button onclick="selectGroup(1)">Kelompok 1 (Kasus Kurir)</button>
        <button onclick="selectGroup(2)">Kelompok 2 (Kasus Google Maps)</button>
    </div>

    <div id="identity-screen" style="display: none;">
        <h2 id="identity-title">Identitas Kelompok</h2>
        <form onsubmit="startQuiz(); return false;">
            <div>
                <label for="group-number-field">Kelompok ke-:</label><br>
                <input type="text" id="group-number-field" readonly>
            </div>
            <div>
                <label for="presence-1">Nomor Presensi Siswa 1:</label><br>
                <input type="text" id="presence-1" placeholder="Contoh: 08">
            </div>
            <div>
                <label for="presence-2">Nomor Presensi Siswa 2:</label><br>
                <input type="text" id="presence-2" placeholder="Contoh: 15">
            </div>
            <div>
                <label for="presence-3">Nomor Presensi Siswa 3 (Opsional):</label><br>
                <input type="text" id="presence-3" placeholder="Contoh: 22">
            </div>
            <button type="submit">Mulai Kuis</button>
        </form>
    </div>

    <div id="quiz-container" style="display: none;">
        <h2 id="quiz-title">Judul Soal</h2>
        <h3>Studi Kasus:</h3>
        <p id="story">Cerita kasus akan muncul di sini.</p>
        <h3 id="question">Pertanyaan akan muncul di sini.</h3>
        <form onsubmit="submitQuiz(); return false;">
            <label for="answer-input">Jawaban Anda:</label><br>
            <textarea id="answer-input" rows="8" placeholder="Tulis jawaban dan alasan Anda di sini..."></textarea><br>
            <button type="submit">Kumpulkan Jawaban</button>
        </form>
    </div>

    <div id="result-area" style="display: none;">
        <h2>Hasil Jawaban</h2>
        <div id="result-details"></div>
    </div>


    <script>
        // Variabel Global
        let selectedGroup = 0;
        let identityData = {}; // Objek ini akan kita isi dengan data baru

        // Data Soal (Tetap sama)
        const questions = {
            1: {
                title: "Kasus 1: Kurir Paket dan Dua Perumahan",
                story: "Bayangkan Anda seorang kurir paket yang bertugas mengantar barang. Ada dua perumahan yang terpisah: Perumahan A (alamatnya dimulai dengan Jalan Cendrawasih) dan Perumahan B (alamatnya dimulai dengan Jalan Rajawali). Anda mendapat paket yang tujuannya adalah Jalan Rajawali. Namun, Anda berada di dalam Perumahan A (Jalan Cendrawasih) dan tidak tahu cara masuk ke Perumahan B. Di persimpangan yang menghubungkan kedua perumahan, ada seorang satpam. Satpam ini tahu semua jalan di kedua perumahan dan tahu jalur tercepat untuk mengirim paket.",
                question: "Berdasarkan cerita ini, siapa yang berperan sebagai router? Mengapa?"
            },
            2: {
                title: "Kasus 2: Peta Jalan dan Google Maps",
                story: "Bayangkan Anda ingin pergi dari rumah ke perpustakaan. Ada beberapa jalan yang bisa Anda pilih. Anda tidak tahu jalan mana yang paling cepat, jadi Anda membuka aplikasi Google Maps (router). Google Maps akan menganalisis semua jalur yang mungkin, seperti jalan lurus, jalan tol, atau jalan pintas. Berdasarkan informasi lalu lintas dan kondisi jalan, Google Maps akan memilih satu jalur terbaik untuk Anda ikuti. Anda akan mengikuti petunjuk dari Google Maps hingga sampai di perpustakaan.",
                question: "Berdasarkan cerita ini, siapa yang berperan sebagai paket data? Mengapa?"
            }
        };

        // Referensi elemen DOM (Tetap sama)
        const groupSelectionScreen = document.getElementById('group-selection-screen');
        const identityScreen = document.getElementById('identity-screen');
        const quizContainer = document.getElementById('quiz-container');
        const resultArea = document.getElementById('result-area');
        const progressInfo = document.getElementById('progressInfo');

        /**
         * Fungsi untuk memilih kelompok dan menampilkan layar identitas.
         * @param {number} groupNumber - Nomor kelompok (1 atau 2).
         */
        function selectGroup(groupNumber) {
            selectedGroup = groupNumber;
            groupSelectionScreen.style.display = 'none';
            identityScreen.style.display = 'block';
            document.getElementById('identity-title').textContent = `Identitas Kelompok ${groupNumber}`;
            
            // --- PERUBAHAN DI SINI ---
            // Secara otomatis mengisi input "Kelompok ke-"
            document.getElementById('group-number-field').value = groupNumber; 
            
            progressInfo.textContent = 'Masukkan identitas kelompok';
        }

        /**
         * Fungsi untuk memulai kuis setelah mengisi identitas.
         */
        function startQuiz() {
            // --- PERUBAHAN DI SINI ---
            // Mengambil data dari form baru
            identityData = {
                kelompok: document.getElementById('group-number-field').value.trim(),
                presensi1: document.getElementById('presence-1').value.trim(),
                presensi2: document.getElementById('presence-2').value.trim(),
                presensi3: document.getElementById('presence-3').value.trim(),
            };

            // Validasi sederhana: memastikan minimal 2 presensi diisi
            // (Kita anggap presensi 3 opsional)
            if (!identityData.presensi1 || !identityData.presensi2) {
                alert('Mohon isi minimal Nomor Presensi Siswa 1 dan 2!');
                return;
            }

            // Menampilkan soal yang sesuai
            const soal = questions[selectedGroup];
            document.getElementById('quiz-title').textContent = soal.title;
            document.getElementById('story').textContent = soal.story;
            document.getElementById('question').textContent = soal.question;
            
            identityScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            progressInfo.textContent = `Kelompok ${selectedGroup} sedang mengerjakan...`;
        }

        /**
         * Fungsi untuk mengumpulkan jawaban dan menampilkan hasil.
         */
        function submitQuiz() {
            const answer = document.getElementById('answer-input').value.trim();

            if (answer === '') {
                alert('Mohon isi jawaban Anda sebelum mengumpulkan!');
                return;
            }

            // Sembunyikan kontainer kuis dan tampilkan area hasil
            quizContainer.style.display = 'none';
            resultArea.style.display = 'block';
            progressInfo.textContent = 'Hasil Asesmen';

            // Membuat HTML untuk hasil
            const soal = questions[selectedGroup];
            const resultDetails = document.getElementById('result-details');
            
            // --- PERUBAHAN DI SINI ---
            // Membuat tampilan hasil berdasarkan data presensi
            // Kita juga cek apakah presensi 3 diisi atau tidak

            let presensi3HTML = '';
            if (identityData.presensi3) {
                presensi3HTML = `<p><strong>Nomor Presensi 3:</strong> ${identityData.presensi3}</p>`;
            }

            resultDetails.innerHTML = `
                <div class="result-block">
                    <h3>Identitas Kelompok ${identityData.kelompok}</h3>
                    <p><strong>Nomor Presensi 1:</strong> ${identityData.presensi1}</p>
                    <p><strong>Nomor Presensi 2:</strong> ${identityData.presensi2}</p>
                    ${presensi3HTML}
                </div>
                <hr style="margin: 20px 0;">
                <div class="result-block">
                    <h3>Soal</h3>
                    <p>${soal.story}</p>
                    <p><strong>Pertanyaan: ${soal.question}</strong></p>
                </div>
                <div class="result-block">
                    <h3>Jawaban Kelompok</h3>
                    <div class="answer-display">${answer}</div>
                </div>
                <hr style="margin: 20px 0;">
                <p style="text-align:center; font-style: italic;">Ruang untuk Penilaian Guru:</p>
                <br><br><br>
            `;
        }
    </script>

</body>
</html>
